# 기능과 책임 분리

## 기능 분해
- 기능은 하위 기능으로 분해
- 기능은 곧 책임
  - 분리한 각 기능을 알맞게 분배하자

## 큰 클래스, 큰 메서드
- 클래스나 메서드가 과도하게 커지면 절차 지향에서의 문제점이 발생한다
  - 큰 클래스 : 많은 필드를 많은 메서드가 공유함
  - 큰 메서드 : 많은 변수를 많은 코드가 공유함
  - 여러 기능이 한 클래스 / 메서드에 섞여 있을 가능성
  - 책임에 따라 나누자

## 몇 가지 책임 분배/분리 방법
- 패턴 적용
  - 전형적인 역할 분리
    - 간단한 웹 : Controller, Service, DAO
    - 복잡한 도메인 : Entity, value, repository, domain, service
    - AOP : Aspect
    - GoF : 여러 디자인 패턴
- 계산 분리
  - 계산하는 부분만 새 클래스를 정의하며 분리함
- 연동 분리
  - 네트워크, 메시징, 파일 등 연동 처리 코드 분리
- 조건 분기는 추상화
  - 연속적인 if-else 는 추상화 고려

## 주의점 : 의도가 잘 드러나는 이름 사용
- HTTP 로 추천 데이터를 읽어오는 기능일 경우,
  - RecommendService 가 HTTPService 보다 좋은 이름


### 역할 분리가 잘 될 경우 테스트가 용이해진다.